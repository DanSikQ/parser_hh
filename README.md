# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å HeadHunter –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∞–∫–∞–Ω—Å–∏–π

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö —Å HeadHunter –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –û–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–∏ –¥—Ä—É–≥–∏—Ö –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã—Ö –ª–∏—Ü), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä—ã–Ω–∫–µ —Ç—Ä—É–¥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞–≤—ã–∫–æ–≤, –∑–∞—Ä–ø–ª–∞—Ç –∏ —Ç—Ä–µ–Ω–¥–æ–≤.  **–ü—Ä–æ–µ–∫—Ç —Ç–∞–∫–∂–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å–∏–π, –≤—ã—è–≤–ª—è—è —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ –∏ –Ω–∞–ª–∏—á–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–∞—Ö.**  –ü—Ä–æ–µ–∫—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –Ω–∞ HeadHunter, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—è —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏ —ç–∫–æ–Ω–æ–º—è –≤—Ä–µ–º—è.

----

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **Docker:** –í–µ—Ä—Å–∏—è 20.10 –∏–ª–∏ –≤—ã—à–µ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ.
*   **Docker Compose:** –í–µ—Ä—Å–∏—è 1.29 –∏–ª–∏ –≤—ã—à–µ. Docker Compose –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤–º–µ—Å—Ç–µ —Å Docker.
*   **Power BI:** Power BI Desktop –∏–ª–∏ Power BI Pro –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö.  –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é Power BI Desktop –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –¥–∞—à–±–æ—Ä–¥–æ–º.

---- 

## ‚öôÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

    ```bash
    git clone https://github.com/DanSikQ/parser_hh
    cd parser_hh
    ```

2.  **–ó–∞–ø—É—Å–∫ Airflow —Å –ø–æ–º–æ—â—å—é Docker Compose:**

    –°–Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Airflow:

    ```bash
    docker compose up airflow-init
    ```

    –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ Airflow –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:

    ```bash
    docker-compose up -d --build
    ```

    –≠—Ç–æ—Ç —à–∞–≥ —Å–æ–∑–¥–∞—Å—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Docker –¥–ª—è Airflow.  –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã.


3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Airflow Connection 'my_db':**

    –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –≤ Airflow.  –î–ª—è —ç—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
    
    *   –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Airflow –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`
    *   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `airflow/airflow` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!)
    *   –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Admin" -> "Connections".
    *   –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "+" (Create) –∏–ª–∏ "Edit" (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç).
    *   –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
        *   **Conn Id:** `my_db` (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
        *   **Conn Type:** `Postgres`
        *   **Host:** `postgres` (–∏–ª–∏ `localhost`, –µ—Å–ª–∏ PostgreSQL –∑–∞–ø—É—â–µ–Ω –≤–Ω–µ Docker)
        *   **Schema:** `airflow` (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –∏–º—è —Å—Ö–µ–º—ã, –µ—Å–ª–∏ –≤—ã –µ–≥–æ –∏–∑–º–µ–Ω–∏–ª–∏)
        *   **Login:** `airflow` (–∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è PostgreSQL)
        *   **Password:** `airflow` (–∏–ª–∏ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è PostgreSQL)
        *   **Port:** `5432` (–∏–ª–∏ –ø–æ—Ä—Ç PostgreSQL)
    *   –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Save". ‚úÖ

    **–í–∞–∂–Ω–æ:**  Conn Id –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–µ–Ω–Ω–æ `my_db.

4.  **–ó–∞–ø—É—Å–∫ DAG –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞ Power BI:**

    *   –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è `my_db` –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "DAGs" –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Airflow.
    *   –í–∫–ª—é—á–∏—Ç–µ DAG, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ –≤—ã–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö —Å HeadHunter (–Ω–∞–∑–≤–∞–Ω–∏–µ DAG - `hh_load`).
    *   DAG –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é, –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É "Trigger DAG".
    *   –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è DAG –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –¥–∞—à–±–æ—Ä–¥–∞ Power BI (`.pbix`).
    *   –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å" –≤ Power BI, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.

    –¢–µ–ø–µ—Ä—å –≤ –¥–∞—à–±–æ—Ä–¥–µ Power BI –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤–∞–∫–∞–Ω—Å–∏–∏, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π.

----

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. 

*   **employers:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è—Ö.
    *   `id_employer`: INTEGER (–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á)
    *   `name_employer`: VARCHAR(200)
    *   `accredited_it_employer`: TEXT
    *   `trusted`: BOOLEAN


*   **skills:** –ù–∞–≤—ã–∫–∏, –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –≤–∞–∫–∞–Ω—Å–∏–π.
    *   `id`: INTEGER (–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `vacancy.id`)
    *   `skills_in_desc`: TEXT


*   **vacancy:** –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö.
    *   `id`: INTEGER (–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á)
    *   `premium`: BOOLEAN
    *   `name`: TEXT
    *   `has_test`: BOOLEAN
    *   `response_letter_required`: BOOLEAN
    *   `published_at`: TIMESTAMP WITH TIME ZONE
    *   `apply_alternate_url`: TEXT
    *   `alternate_url`: TEXT
    *   `from_salary`: NUMERIC(10,2)
    *   `to_salary`: NUMERIC(10,2)
    *   `currency`: VARCHAR(20)
    *   `gross`: TEXT
    *   `city`: TEXT
    *   `street`: TEXT
    *   `building`: TEXT
    *   `lat`: NUMERIC(10,6)
    *   `lng`: NUMERIC(10,6)
    *   `raw`: TEXT
    *   `metro_station_name`: TEXT
    *   `metro_line_name`: TEXT
    *   `id_employer`: INTEGER (–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `employers.id_employer`)
    *   `requirement`: TEXT
    *   `responsibility`: TEXT
    *   `schedules`: TEXT
    *   `format_works`: TEXT
    *   `hours_working`: TEXT
    *   `schedule_work_by_days`: TEXT
    *   `roles_professional`: TEXT
    *   `experience_`: TEXT
    *   `employment_`: TEXT
    *   `total_salary`: NUMERIC(10,2)
    *   `description`: TEXT
    *   `key_skills_under_desc`: TEXT
    *   `skills_in_desc`: TEXT
    *   `is_intern`: BOOLEAN 


------
## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```parser_hh/
‚îú‚îÄ‚îÄ data/                     # –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ skills_info.csv       # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∫–∏–ª–ª–∞—Ö –≤–∞–∫–∞–Ω—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ vacancy_info          # –û—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–∫–∞–Ω—Å–∏–∏
‚îú‚îÄ‚îÄ dags/                     # DAG —Å –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π ETL
‚îÇ   ‚îú‚îÄ‚îÄ hh_ETL.py
‚îú‚îÄ‚îÄ scripts/                  # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îÇ   ‚îú‚îÄ‚îÄ auto_parser.py/
‚îú‚îÄ‚îÄ dahsbord_vacancy.pbix     # –î–∞—à–±–æ—Ä–¥ —Å –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π 
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
